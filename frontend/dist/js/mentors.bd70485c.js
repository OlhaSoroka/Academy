"use strict";(self["webpackChunkinventorsoft_vue_2022"]=self["webpackChunkinventorsoft_vue_2022"]||[]).push([[404],{2161:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mentors__container"},[t("div",{staticClass:"mentors__topbar_container"},[e._m(0),t("div",[t("BaseButton",{attrs:{loading:e.isMentorsLoading},on:{click:function(t){return e.toggleCreateUpdateModal(null,!1)}}},[e._v(" Add new mentor ")])],1)]),t("div",{staticClass:"mentors__table_container"},[t("BaseTable",{attrs:{"table-data":{headingData:[{fullName:"Full Name"},{email:"Email"}],bodyData:e.mentors},"edit-btns":!0,"is-data-loading":e.isMentorsLoading,"delete-btns":!0},on:{delete:function(t){return e.toggleDeleteMentorModal(t)},edit:function(t){return e.toggleCreateUpdateModal(t,!0)}}})],1),t("CreateUpdateMentorModal",{attrs:{mentor:e.selectedMentor,"update-mode":e.isUpdateMode,"toggle-modal":e.isCreateUpdateModalOpen}}),t("BaseDeleteModal",{attrs:{"toggle-modal":e.isDeleteModalOpen,"target-value":e.fullName},on:{delete:e.submitDelete}})],1)},o=[function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"mentors__header"},[e._v(" Mentors Dashboard ")]),t("h3",{staticClass:"mentors__subheader"},[e._v(" Mentors list of InventorSoft Academy ")])])}],l=a(3296),n=a(4146),d=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"createUpdateMentorModal",attrs:{header:e.isUpdateMode?"Update mentor":"Add new mentor"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:a}){return[t("div",[t("div",{staticClass:"w-80"},[t("BaseInput",{ref:"fullName",attrs:{type:"text",label:"Full Name",placeholder:"Enter fullname",rules:"required"},model:{value:e.fullName,callback:function(t){e.fullName=t},expression:"fullName"}})],1),t("div",{staticClass:"w-80"},[t("BaseInput",{ref:"email",attrs:{type:"email",label:"Email",vid:"email",placeholder:"Enter email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),!e.isUpdateMode||e.changePasswordMode?t("div",[t("div",[t("BaseInput",{attrs:{type:"password",label:"Password",vid:"password",placeholder:"Enter password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("div",[t("BaseInput",{attrs:{type:"password",label:"Confirm password",placeholder:"Confirm password",vid:"confirmpassword",rules:"confirmed:password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)]):e._e(),t("div",{staticClass:"mt-6"},[e.isUpdateMode?t("div",{staticClass:"mx-1 flex justify-center"},[t("BaseButton",{on:{click:e.toggleChangePassword}},[e._v(" "+e._s(e.changePasswordMode?"Hide password":"Change password")+" ")])],1):e._e()]),t("div",{staticClass:"flex justify-evenly mt-5"},[t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancelAddNewMentor}},[e._v(" Cancel ")])],1),t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{disabled:a},on:{click:e.submitAddNewMentor}},[e._v(" "+e._s(e.isUpdateMode?"Update":"Create")+" ")])],1)])])]}}])})]},proxy:!0}])})},r=[],i=a(5708),c=a(9046),u=a(7847),p=a(164),m=a(3822),M={components:{BaseInput:c.Z,BaseButton:n.Z,BaseModal:u.Z,ValidationObserver:i._j},props:{toggleModal:{type:Boolean,default:!1},mentor:{required:!1,type:Object,default:null}},data(){return{fullName:"",email:"",password:"",confirmPassword:"",changePasswordMode:!1}},computed:{isUpdateMode(){return!!this.mentor}},watch:{toggleModal(){this.changePasswordMode=!1,this.$refs.createUpdateMentorModal.openModal(),this.isUpdateMode&&(this.fullName=this.mentor.fullName,this.email=this.mentor.email)}},methods:{...(0,m.nv)("mentors",["createMentor","updateMentor"]),clearInputs(){this.fullName="",this.email="",this.password="",this.confirmPassword=""},submitAddNewMentor(){this.isUpdateMode?this.updateMentorHandler():this.createMentorHandler(),this.$refs.createUpdateMentorModal.closeModal()},cancelAddNewMentor(){this.clearInputs(),this.$refs.createUpdateMentorModal.closeModal()},toggleChangePassword(){this.changePasswordMode=!this.changePasswordMode},updateMentorHandler(){const e={id:this.mentor.id,fullName:this.fullName,email:this.email};this.changePasswordMode&&(e.password=this.password),this.updateMentor(e),this.clearInputs()},createMentorHandler(){const e={email:this.email,fullName:this.fullName,password:this.password,role:p.b_};this.createMentor(e),this.clearInputs()}}},h=M,f=a(1001),v=(0,f.Z)(h,d,r,!1,null,null,null),w=v.exports,g=a(4682),_={components:{BaseTable:l.Z,BaseButton:n.Z,CreateUpdateMentorModal:w,BaseDeleteModal:g.Z},data(){return{selectedMentorId:null,isCreateUpdateModalOpen:!1,isUpdateMode:!1,isDeleteModalOpen:!1,fullName:null}},computed:{...(0,m.Se)("mentors",["mentors","isMentorsLoading"]),selectedMentor(){return this.mentors.find((e=>e.id===this.selectedMentorId))}},async mounted(){await this.fetchMentors()},methods:{...(0,m.nv)("mentors",["fetchMentors","deleteMentor"]),toggleCreateUpdateModal(e,t){this.selectedMentorId=e,this.isUpdateMode=t,this.isCreateUpdateModalOpen=!this.isCreateUpdateModalOpen},toggleDeleteMentorModal(e){this.selectedMentorId=e,this.isDeleteModalOpen=!this.isDeleteModalOpen,this.fullName=this.selectedMentor.fullName,console.log(this.selectedMentor.fullName,"selectedMentor")},submitDelete(){this.deleteMentor(this.selectedMentorId)}}},b=_,C=(0,f.Z)(b,s,o,!1,null,"b606a03e",null),U=C.exports}}]);
//# sourceMappingURL=mentors.bd70485c.js.map