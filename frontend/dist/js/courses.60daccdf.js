"use strict";(self["webpackChunkinventorsoft_vue_2022"]=self["webpackChunkinventorsoft_vue_2022"]||[]).push([[953],{2401:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page courses__container"},[t("div",{staticClass:"courses__topbar_container"},[e._m(0),e.isMentor||e.isAdmin?t("div",[t("BaseButton",{attrs:{loading:e.loadingStatus},on:{click:function(t){return t.preventDefault(),e.openCourseViewCreateModal.apply(null,arguments)}}},[e._v(" Add new course ")])],1):e._e()]),e.isUser?t("div",[t("div",{staticClass:"courses__table_container"},[t("BaseTable",{staticClass:"text-center",attrs:{"table-data":{headingData:e.headersUser,bodyData:e.coursesForUser()},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!1,"view-btns":!0},on:{view:e.goToCourseDetails}})],1)]):e.isMentor||e.isAdmin?t("div",[t("div",{staticClass:"courses__table_container"},[t("BaseTable",{staticClass:"text-center",attrs:{"table-data":{headingData:e.headersMentor,bodyData:e.courses},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!0,"view-btns":!0},on:{delete:e.openCoursesDeleteModal,view:e.goToCourseDetails}})],1),t("CourseCreateModal",{attrs:{"is-opened-course-create-modal":e.isCreateModalOpen}}),t("BaseDeleteModal",{attrs:{"toggle-modal":e.isDeleteModalOpen,"target-value":e.targetCourse.name},on:{delete:e.submitDelete}})],1):t("div",[t("h3",[e._v("No courses")])])])},o=[function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"courses__header"},[e._v(" Courses Dashboard ")]),t("h3",{staticClass:"courses__subheader"},[e._v(" Courses list of InventorSoft Academy ")])])}],r=s(3822),n=s(3296),u=s(7162),d=s(4146),l=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"courseCreateModal",attrs:{header:"Add new course"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:s}){return[t("div",{staticClass:"w-72"},[t("BaseInput",{attrs:{type:"text",label:"Course Name",placeholder:"Course Name",rules:"required"},model:{value:e.courseToAdd.name,callback:function(t){e.$set(e.courseToAdd,"name",t)},expression:"courseToAdd.name"}}),t("BaseInput",{attrs:{type:"date",label:"Date of starting",rules:"required",onkeydown:"return false"},model:{value:e.courseToAdd.date,callback:function(t){e.$set(e.courseToAdd,"date",t)},expression:"courseToAdd.date"}}),t("BaseInput",{attrs:{type:"number",label:"Quantity of homework",rules:"required"},model:{value:e.courseToAdd.homework_quantity,callback:function(t){e.$set(e.courseToAdd,"homework_quantity",t)},expression:"courseToAdd.homework_quantity"}}),t("BaseInput",{attrs:{type:"date",label:"Date of starting project",onkeydown:"return false"},model:{value:e.courseToAdd.date_project_start,callback:function(t){e.$set(e.courseToAdd,"date_project_start",t)},expression:"courseToAdd.date_project_start"}}),t("BaseInput",{attrs:{type:"date",label:"Date of demo",onkeydown:"return false"},model:{value:e.courseToAdd.date_project_demo,callback:function(t){e.$set(e.courseToAdd,"date_project_demo",t)},expression:"courseToAdd.date_project_demo"}}),t("BaseInput",{attrs:{type:"date",label:"Date of final interview",onkeydown:"return false"},model:{value:e.courseToAdd.date_final_interview,callback:function(t){e.$set(e.courseToAdd,"date_final_interview",t)},expression:"courseToAdd.date_final_interview"}}),t("div",{staticClass:"w-full text-left ml-1"},[t("label",{attrs:{for:"status"}},[e._v("Status")])]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.courseToAdd.status,expression:"courseToAdd.status"}],staticClass:"block p-1 m-1 w-full ml-1 border-2 border-primary-700 rounded-md text-base font-mono placeholder:text-slate-400 hover:bg-stone-50 focus:drop-shadow-xl focus:bg-stone-50 focus:border-primary-700 focus:outline-none focus:text-cyan-900",attrs:{id:"status",rules:"required"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.courseToAdd,"status",t.target.multiple?s:s[0])}}},e._l(e.statuses,(function(s){return t("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(s)+" ")])})),0),t("div",{staticClass:"flex justify-evenly mt-5"},[t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{disabled:!1,variant:"btn_red"},on:{click:e.canselCourseCreateButton}},[e._v(" Cancel ")])],1),t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{type:"submit",disabled:s},on:{click:e.submitCourseCreateButton}},[e._v(" Create ")])],1)])],1)]}}])})]},proxy:!0}])})},i=[],c=s(5708),p=s(9046),m=s(7847),_={name:"CourseCreateModal",components:{BaseInput:p.Z,BaseButton:d.Z,ValidationObserver:c._j,BaseModal:m.Z},props:{isOpenedCourseCreateModal:{required:!0,type:Boolean}},data(){return{courseToAdd:{id:0,name:"",date:"",homework_quantity:0,date_project_start:"",date_project_demo:"",date_final_interview:"",status:"not started"},statuses:["not started","in progress","finished"]}},computed:{...(0,r.Se)("courses",["courses"])},watch:{isOpenedCourseCreateModal(){this.$refs.courseCreateModal.openModal()}},methods:{...(0,r.nv)("courses",["createNewCourse"]),clearInputs(){this.courseToAdd={name:"",date:"",homework_quantity:0,date_project_start:"",date_project_demo:"",date_final_interview:"",status:"not started"}},submitCourseCreateButton(){let e={...this.courseToAdd};const{name:t,date:s,status:a}=e;if(""!==t&&""!==s&&""!==a){if(this.courses.length>0){const t=this.courses.map((e=>e.id));e.id=Math.max(...t)+1}else e.id=1;e={...e,applicants:[],comments:[],docs_link:"",group:[],homework:[],homework_results:[],results:[],materials:[]},this.createNewCourse(e),this.$refs.courseCreateModal.closeModal()}},canselCourseCreateButton(){this.$refs.courseCreateModal.closeModal(),this.clearInputs()}}},f=_,h=s(1001),C=(0,h.Z)(f,l,i,!1,null,null,null),v=C.exports,b=s(4682),w=s(164),g={components:{BaseTable:n.Z,BaseButton:d.Z,BaseDeleteModal:b.Z,CourseCreateModal:v},data(){return{isCreateModalOpen:!1,isDeleteModalOpen:!1,targetCourse:{id:null,name:"",date:"",status:"",docs_link:"",applicants:[],group:[],homework:[],results:[],comments:[]},headersUser:[{name:"Course Name"},{date:"Date"},{status:"Status"}],headersMentor:[{name:"Course Name"},{date:"Date"}]}},computed:{...(0,r.Se)("courses",["loadingStatus","courses"]),...(0,r.Se)("user",["user"]),isUser(){return!!this.user&&this.user.role===w.gl},isMentor(){return!!this.user&&this.user.role===w.b_},isAdmin(){return!!this.user&&this.user.role===w.qy}},async mounted(){await this.getCourses(),this.sortCourses()},methods:{...(0,r.nv)("courses",["getCourses","deleteCourseFromState","sortCourses"]),goToCourseDetails(e){this.$router.push({name:u.eA,params:{id:e}})},openCoursesDeleteModal(e){this.targetCourse=this.courses.find((t=>t.id===e)),this.isDeleteModalOpen=!this.isDeleteModalOpen},openCourseViewCreateModal(){this.isCreateModalOpen=!this.isCreateModalOpen},submitDelete(){this.deleteCourseFromState(this.targetCourse.id)},coursesForUser(){let e=[],t=this.courses.map((e=>e.group));for(let s=0;s<t.length;s++){let a=t[s].map((e=>e.email));a.includes(this.user.email)&&e.push(this.courses[s])}return e}}},y=g,M=(0,h.Z)(y,a,o,!1,null,"08b9a664",null),k=M.exports},7366:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",[t("router-view")],1)},o=[],r=s(1001),n={},u=(0,r.Z)(n,a,o,!1,null,null,null),d=u.exports}}]);
//# sourceMappingURL=courses.60daccdf.js.map