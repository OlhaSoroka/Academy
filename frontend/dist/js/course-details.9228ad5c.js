"use strict";(self["webpackChunkinventorsoft_vue_2022"]=self["webpackChunkinventorsoft_vue_2022"]||[]).push([[800],{5403:function(e,t,s){s.r(t),s.d(t,{default:function(){return at}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"courses__container"},[t("h2",{staticClass:"courses__header"},[e._v(" Course Details ")]),e.courseItem?t("h3",{staticClass:"courses__subheader"},[e._v(" Details of "+e._s(e.courseItem.name)+" course ")]):e._e(),e.isUser?t("div",[t("nav",{staticClass:"nav my-3"},[t("BaseButton",{staticClass:"nav__btn",attrs:{variant:"btn_black"},on:{click:e.getBackCourseDetailsView}},[e._v(" Back ")])],1),e.courseItem?t("div",[t("div",{staticClass:"grid grid-cols-2 grid-rows-2 gap-x-5 gap-y-5 xl:gap-x-10 xl:gap-y-10"},[t("div",{staticClass:"part col-span-1 col-start-1 row-span-1"},[e._m(0),t("div",{staticClass:"flex flex-col gap-5"},[t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Name "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.name))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of starting "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of starting project "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date_project_start))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of demo "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date_project_demo))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of final interview "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date_final_interview))])])]),t("div",{staticClass:"text-left p-1 rounded-md w-fit",class:{"bg-blue-300/25":"not started"===e.courseItem.status,"bg-green-500/25":"in progress"===e.courseItem.status,"bg-red-400/25":"finished"===e.courseItem.status}},[t("label",{staticClass:"text-xs"},[e._v("Status "),t("p",{staticClass:"text-xl"},[e._v(e._s(e.courseItem.status))])])])])]),t("div",{staticClass:"part col-span-1 col-start-2 row-start-2 row-span-1"},[t("h2",{staticClass:"part__text"},[e._v(" Homework ")]),t("BaseTable",{staticClass:"table",attrs:{"table-data":{headingData:e.headerHomework,bodyData:e.courseItem.homework},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!1}})],1),t("div",{staticClass:"part col-span-1 col-start-1"},[t("h2",{staticClass:"part__text"},[e._v(" Group ")]),t("BaseTable",{staticClass:"table",attrs:{"table-data":{headingData:e.headersGroup,bodyData:e.courseItem.group},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!1}})],1),e.courseItem.materials?t("div",{staticClass:"part col-start-2 row-start-1 col-span-1"},[e._m(1),t("BaseTable",{staticClass:"table",attrs:{"table-data":{headingData:e.headerMaterials,bodyData:e.courseItem.materials},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!1},on:{delete:e.deleteMaterialRow}})],1):e._e()])]):e._e()]):e.isMentor||e.isAdmin?t("div",[e.courseItem?t("div",{staticClass:"text-center my-3"},[t("nav",{staticClass:"nav flex-wrap my-3"},[t("BaseButton",{staticClass:"nav__btn",attrs:{variant:"btn_black"},on:{click:e.getBackCourseDetailsView}},[e._v(" Back ")]),t("div",{staticClass:"nav__courses"},[t("div",{staticClass:"flex"},[t("BaseButton",{staticClass:"nav__btn",attrs:{disabled:e.isFirstCourse},on:{click:e.previousPage}},[e._v(" Prev ")]),t("BaseButton",{staticClass:"nav__btn",attrs:{disabled:e.isLatsCourse},on:{click:e.nextPage}},[e._v(" Next ")])],1)])],1),t("div",{staticClass:"grid grid-cols-4 grid-rows-4 auto-rows-fr gap-x-5 gap-y-5 xl:gap-x-15 xl:gap-y-10"},[t("div",{staticClass:"part col-span-2 col-start-1 row-span-1"},[t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Main info ")]),t("BaseButton",{staticClass:"nav__btn",on:{click:e.toggleUpdateModal}},[t("BaseEditIcon")],1)],1),t("div",{staticClass:"flex flex-col gap-5"},[t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Name "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.name))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of starting "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of starting project "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date_project_start))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of demo "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date_project_demo))])])]),t("div",{staticClass:"text-left"},[t("label",{staticClass:"main__header_label"},[e._v("Date of final interview "),t("p",{staticClass:"main__header_text"},[e._v(e._s(e.courseItem.date_final_interview))])])]),t("div",{staticClass:"text-left p-1 rounded-md w-fit",class:{"bg-blue-300/25":"not started"===e.courseItem.status,"bg-green-500/25":"in progress"===e.courseItem.status,"bg-red-400/25":"finished"===e.courseItem.status}},[t("label",{staticClass:"text-xs"},[e._v("Status "),t("p",{staticClass:"text-xl"},[e._v(e._s(e.courseItem.status))])])])])]),t("div",{staticClass:"part col-span-2 col-start-3"},[t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Comments ")]),t("BaseButton",{staticClass:"nav__btn",on:{click:e.openAddCommentModal}},[t("BasePlus")],1)],1),t("BaseTable",{staticClass:"table",attrs:{"table-data":{headingData:e.headerComments,bodyData:e.courseItem.comments},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!0},on:{delete:e.deleteComment}})],1),t("div",{staticClass:"part col-span-4 col-start-1"},[t("GroupWidget",{attrs:{course:e.courseItem}})],1),t("div",{staticClass:"part col-span-4 col-start-1"},[t("ResultWidget",{attrs:{course:e.courseItem}})],1),t("div",{staticClass:"part col-start-1 col-span-4"},[t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Homework ")]),t("div",{staticClass:"flex"},[t("BaseButton",{staticClass:"nav__btn",attrs:{variant:"btn_red"},on:{click:e.toggleHomeworkDeleteModal}},[t("BaseDeleteIcon")],1),t("BaseButton",{staticClass:"nav__btn",on:{click:e.toggleNewHomeworkModal}},[t("BasePlus")],1)],1)]),t("HomeworkWidget",{attrs:{course:e.courseItem}})],1),e.courseItem.homework_results?t("div",{staticClass:"part col-start-1 col-span-4"},[e._m(2),t("BaseTable",{staticClass:"table",attrs:{"table-data":{headingData:e.cutHeaderHomeworkResults(),bodyData:e.courseItem.homework_results},"edit-btns":!0,"is-data-loading":e.loadingStatus,"delete-btns":!1},on:{edit:e.openEditHomeworkResultModal}})],1):e._e(),e.courseItem.materials?t("div",{staticClass:"part col-start-1 col-span-4"},[t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Materials ")]),t("BaseButton",{staticClass:"nav__btn",on:{click:e.toggleNewMaterialModal}},[t("BasePlus")],1)],1),t("BaseTable",{staticClass:"table",attrs:{"table-data":{headingData:e.headerMaterials,bodyData:e.courseItem.materials},"edit-btns":!1,"is-data-loading":e.loadingStatus,"delete-btns":!0},on:{delete:e.deleteMaterialRow}})],1):e._e()])]):e._e()]):t("div",[t("h3",[e._v("No courses")]),t("BaseButton",{attrs:{variant:"btn_black"},on:{click:e.getBackCourseDetailsView}},[e._v(" Back ")])],1),t("CourseDetailsUpdateModal",{attrs:{id:+e.$route.params.id,"toggle-modal":e.isUpdateModalOpened}}),t("NewApplicantModal",{attrs:{id:+e.$route.params.id,"toggle-modal":e.isModalOpened}}),t("NewGroupMember",{attrs:{id:+e.$route.params.id,"toggle-modal":e.isNewGroupMemberModal}}),t("NewHomeWorkModal",{attrs:{"toggle-modal":e.isNewHomeworkModal}}),t("HomeworkResaltsModal",{attrs:{id:+e.$route.params.id,"toggle-modal":e.isEditHomeworkResultModalOpen,"student-id":e.studentId}}),t("NewCommentModal",{attrs:{"toggle-modal":e.isAddCommentModalOpen}}),t("NewMaterialModal",{attrs:{"toggle-modal":e.isNewMaterialModal}}),t("BaseDeleteModal",{attrs:{"toggle-modal":e.isDeleteModalOpen,"target-value":e.targetRow},on:{delete:e.submitDelete}}),t("HomeworkDeleteModal",{attrs:{"course-item":e.courseItem,"toggle-modal":e.isHomeworkDeleteModalOpen},on:{delete:e.submitDeleteHomework}})],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Main info ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Materials ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("h2",{staticClass:"part__text"},[e._v(" Homework Results ")])])}],o=s(3822),i=s(4146),l=s(3296),n=s(7162),d=s(88),u=s(4477),c=s(2100),h=s(5708),w=s(8815),p=s(164),m=function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"white",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"}})])},_=[],f=s(1001),v={},b=(0,f.Z)(v,m,_,!1,null,null,null),C=b.exports,g=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"newApplicantModal",attrs:{header:"Add new applicant"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"flex justify-center flex-col mt-7 gap-10"},[t("div",{staticClass:"mx-1"},[e.usersWithoutApplicants.length?t("label",{staticClass:"select__label",attrs:{for:"applicants"}},[e._v("Select the user, to become an applicant")]):t("label",{staticClass:"select__label",attrs:{for:"applicants"}},[e._v("No users to apply to this course")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newApplicant,expression:"newApplicant"}],staticClass:"select__applicants",attrs:{id:"applicants",disabled:!e.usersWithoutApplicants.length},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newApplicant=t.target.multiple?s:s[0]}}},e._l(e.usersWithoutApplicants,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(" "+e._s(s.fullName)+" ")])})),0)]),t("div",{staticClass:"mx-1 flex justify-around"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancelModal}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:!e.newApplicant.length},on:{click:function(t){return e.confirmAdding({id:e.id,course:e.currentCourse})}}},[e._v(" Add ")])],1)])]},proxy:!0}])})},k=[],y=s(7847),M={components:{BaseButton:i.Z,BaseModal:y.Z},props:{toggleModal:{type:Boolean,default:!1},mentor:{type:Object,default:null},id:{type:Number,default:null}},data(){return{newApplicant:""}},computed:{...(0,o.Se)("students",["students"]),...(0,o.Se)("courses",["getCourseById"]),usersWithoutApplicants(){return this.students.filter((e=>{const{applicants:t}=this.currentCourse;return!t.some((t=>t.id===e.id))}))},currentCourse(){return this.getCourseById(this.id)}},watch:{toggleModal(){this.$refs.newApplicantModal.openModal()}},async mounted(){this.fetchStudents()},methods:{...(0,o.nv)("courses",["updateCourse","getCourses"]),...(0,o.nv)("students",["fetchStudents"]),clearInputs(){this.newApplicant=""},cancelModal(){this.$refs.newApplicantModal.closeModal(),this.clearInputs()},confirmAdding({id:e,course:t}){const s=this.students.find((e=>e.id===this.newApplicant)),a=JSON.parse(JSON.stringify(t));a.applicants.push(s),this.updateCourse({id:e,course:a}).then((async()=>{await this.getCourses()})).then((()=>{this.$refs.newApplicantModal.closeModal()})).finally((()=>this.clearInputs()))}}},x=M,B=(0,f.Z)(x,g,k,!1,null,"e3a5e3e4",null),I=B.exports,D=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"addCommentModal",attrs:{header:"Add comment"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:s}){return[t("form",{staticClass:"flex items-center flex-col mt-4",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"mt-2"},[t("ValidationProvider",{attrs:{rules:"required|min:1"}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comments,expression:"comments"}],staticClass:"border",attrs:{cols:"45",rows:"3"},domProps:{value:e.comments},on:{input:function(t){t.target.composing||(e.comments=t.target.value)}}})])],1),t("div",{staticClass:"mx-1 flex gap-20"},[t("BaseButton",{attrs:{variant:"btn_red",type:"button"},on:{click:e.cancel}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:s,type:"submit"}},[e._v(" Add ")])],1)])]}}])})],1)]},proxy:!0}])})},N=[],S={components:{BaseModal:y.Z,BaseButton:i.Z,ValidationObserver:h._j,ValidationProvider:h.d_},props:{toggleModal:{type:Boolean,default:!1}},data(){return{comments:""}},computed:{...(0,o.Se)("courses",["getCourseById"]),...(0,o.Se)("user",["user"])},watch:{toggleModal(){this.$refs.addCommentModal.openModal()}},methods:{...(0,o.nv)("courses",["addNewComment"]),clearInputs(){this.comments=""},submit(){let e=this.getCourseById(this.$route.params.id);e.comments.push({id:Date.now(),message:this.comments,createdAt:(new Date).toLocaleString(),author:this.user.fullName,author_id:this.user.id,author_email:this.user.email});let t={currentItemUpdate:e,id:this.$route.params.id};this.addNewComment(t),this.clearInputs(),this.$refs.addCommentModal.closeModal()},cancel(){this.clearInputs(),this.$refs.addCommentModal.closeModal()}}},A=S,H=(0,f.Z)(A,D,N,!1,null,null,null),$=H.exports,O=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"cdUpdateModal",attrs:{header:"Update course details"},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"flex justify-center flex-col mt-7 gap-10"},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:s}){return[t("div",{staticClass:"text-left"},[t("label",{attrs:{for:"name"}},[e._v("Name of course")]),t("BaseInput",{attrs:{id:"name",rules:"required"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),e.getCourseById(e.id).homework_quantity?t("label",{attrs:{for:"homework_quantity"}},[e._v("Homework quantity ")]):e._e(),e.getCourseById(e.id).homework_quantity?t("BaseInput",{attrs:{id:"homework_quantity",type:"number"},model:{value:e.newHomework_quantity,callback:function(t){e.newHomework_quantity=t},expression:"newHomework_quantity"}}):e._e(),t("BaseInput",{attrs:{type:"date",label:"Date of starting",rules:"required",onkeydown:"return false"},model:{value:e.newDate,callback:function(t){e.newDate=t},expression:"newDate"}}),t("BaseInput",{attrs:{type:"date",label:"Date of starting project",onkeydown:"return false"},model:{value:e.newDate_project_start,callback:function(t){e.newDate_project_start=t},expression:"newDate_project_start"}}),t("BaseInput",{attrs:{type:"date",label:"Date of demo",onkeydown:"return false"},model:{value:e.newDate_project_demo,callback:function(t){e.newDate_project_demo=t},expression:"newDate_project_demo"}}),t("BaseInput",{attrs:{type:"date",label:"Date of final interview",onkeydown:"return false"},model:{value:e.newDate_final_interview,callback:function(t){e.newDate_final_interview=t},expression:"newDate_final_interview"}}),t("BaseSelect",{attrs:{options:["in progress","finished","not started"]},model:{value:e.newStatus,callback:function(t){e.newStatus=t},expression:"newStatus"}})],1),t("div",{staticClass:"mx-1 flex justify-around"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancel}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:s},on:{click:e.submit}},[e._v(" Update ")])],1)]}}])})],1)]},proxy:!0}])})},j=[],R=s(9046),W=function(){var e=this,t=e._self._c;return t("div",[t("label",{staticClass:"block ml-1 font-medium text-gray-900 dark:text-gray-400",attrs:{for:"applicants"}},[e._v("Select an option")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"select",attrs:{id:"applicants"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.model=t.target.multiple?s:s[0]}}},e._l(e.options,(function(s){return t("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(s)+" ")])})),0)])},Z=[],q={props:{value:{type:String,required:!0},options:{type:Array,required:!0}},computed:{model:{get(){return this.value},set(e){this.$emit("input",e)}}}},P=q,E=(0,f.Z)(P,W,Z,!1,null,"f3508a54",null),U=E.exports,T={components:{BaseModal:y.Z,BaseButton:i.Z,BaseInput:R.Z,BaseSelect:U,ValidationObserver:h._j},props:{toggleModal:{type:Boolean,default:!1},id:{type:Number,default:null}},data(){return{currentItem:{type:Object},newStatus:"",newName:"",newDate:"",newDate_project_start:"",newDate_project_demo:"",newDate_final_interview:"",newHomework_quantity:0}},computed:{...(0,o.Se)("courses",["getCourseById","courses"])},watch:{toggleModal(){this.$refs.cdUpdateModal.openModal()},id(){this.getCourses().then((()=>{this.currentItem=this.getCourseById(this.id);const{status:e,name:t,date:s,date_project_start:a,date_project_demo:r,date_final_interview:o,homework_quantity:i}=this.currentItem;this.newStatus=e,this.newName=t,this.newDate=this.makeDate(s),this.newDate_project_start=this.makeDate(a),this.newDate_project_demo=this.makeDate(r),this.newDate_final_interview=this.makeDate(o),this.newHomework_quantity=i}))}},async mounted(){this.getCourses().then((()=>{this.currentItem=this.getCourseById(this.id);const{status:e,name:t,homework_quantity:s,date:a,date_project_start:r,date_project_demo:o,date_final_interview:i}=this.currentItem;this.newStatus=e,this.newName=t,this.newDate=this.makeDate(a),this.newDate_project_start=this.makeDate(r),this.newDate_project_demo=this.makeDate(o),this.newDate_final_interview=this.makeDate(i),this.newHomework_quantity=s}))},methods:{...(0,o.nv)("courses",["addNewComment","getCourses","updateCourse"]),clearInputs(){this.newStatus="",this.newName="",this.newDate="",this.newHomework_quantity=0,this.newDate_project_start="",this.newDate_project_demo="",this.newDate_final_interview=""},makeDate(e){if(!e)return"";const t=e.split("/");return t.length>1?`${t[2]}-${t[1]}-${t[0]}`:e},async submit(){let e=this.getCourseById(this.id),t=JSON.parse(JSON.stringify(e));t={...t,name:this.newName,status:this.newStatus,date:this.newDate,date_project_start:this.newDate_project_start,date_project_demo:this.newDate_project_demo,date_final_interview:this.newDate_final_interview,homework_quantity:this.newHomework_quantity},await this.updateCourse({id:t.id,course:t}),await this.getCourses(),this.$refs.cdUpdateModal.closeModal()},cancel(){this.$refs.cdUpdateModal.closeModal()}}},G=T,V=(0,f.Z)(G,O,j,!1,null,null,null),F=V.exports,J=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"newGroupMemberModal",attrs:{header:"Add new group member"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"flex justify-center flex-col mt-7 gap-10"},[t("div",{staticClass:"mx-1 flex flex-col items-center"},[e.getApplicants.length?t("label",{staticClass:"select__label",attrs:{for:"applicants"}},[e._v("Select the applicant, to become a member of group")]):t("label",{staticClass:"select__label",attrs:{for:"applicants"}},[e._v("No applicants to add to course group ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newGroupMember,expression:"newGroupMember"}],staticClass:"select__group_mentor",attrs:{id:"applicants",disabled:!e.getApplicants.length},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newGroupMember=t.target.multiple?s:s[0]}}},e._l(e.getApplicants,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(" "+e._s(s.fullName)+" ")])})),0)]),t("div",{staticClass:"mx-1 flex justify-around"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancelModal}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:!e.newGroupMember.length},on:{click:function(t){return e.confirmAdding({id:e.id,course:e.currentCourse})}}},[e._v(" Add ")])],1)])]},proxy:!0}])})},L=[],z={components:{BaseButton:i.Z,BaseModal:y.Z},props:{toggleModal:{type:Boolean,default:!1},mentor:{type:Object,default:null},id:{type:Number,default:null}},data(){return{newGroupMember:""}},computed:{...(0,o.Se)("students",["students"]),...(0,o.Se)("courses",["getCourseById"]),getApplicants(){return this.currentCourse.applicants.filter((e=>!this.currentCourse.group.some((t=>t.id===e.id))))},currentCourse(){return this.getCourseById(this.id)}},watch:{toggleModal(){this.$refs.newGroupMemberModal.openModal()}},async mounted(){this.fetchStudents()},methods:{...(0,o.nv)("courses",["updateCourse","getCourses"]),...(0,o.nv)("students",["fetchStudents"]),clearInputs(){this.newGroupMember=""},cancelModal(){this.$refs.newGroupMemberModal.closeModal(),this.clearInputs()},confirmAdding({id:e,course:t}){const s=this.students.find((e=>e.id===this.newGroupMember)),a=JSON.parse(JSON.stringify(t));a.group.push(s),a.homework_results.push({students_name:s.fullName,id:s.id,hw1:0,hw1repo:"",hw2:0,hw2repo:"",hw3:0,hw3repo:"",hw4:0,hw4repo:"",hw5:0,hw5repo:"",hw6:0,hw6repo:"",hw7:0,hw7repo:"",hw8:0,hw8repo:"",hw9:0,hw9repo:"",hw10:0,hw10repo:"",hw11:0,hw11repo:"",total:0}),this.updateCourse({id:e,course:a}).then((async()=>{await this.getCourses()})).then((()=>{this.$refs.newGroupMemberModal.closeModal()})).finally((()=>this.clearInputs()))}}},K=z,Q=(0,f.Z)(K,J,L,!1,null,"81944c04",null),X=Q.exports,Y=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"newHomework",attrs:{header:"Add new homework"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"flex justify-center flex-col mt-7 gap-10"},[t("div",{staticClass:"mx-1"},[t("BaseInput",{attrs:{label:"Homework Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("BaseInput",{attrs:{type:"date",label:"Date",rules:"required",onkeydown:"return false"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),t("div",{staticClass:"mx-1 flex justify-around"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancelModal}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:!(e.date.length&&e.name.length)},on:{click:function(t){return e.confirmAdding({id:e.currentRouteName,course:e.currentCourse})}}},[e._v(" Add ")])],1)])]},proxy:!0}])})},ee=[],te={components:{BaseButton:i.Z,BaseModal:y.Z,BaseInput:R.Z},props:{toggleModal:{type:Boolean,default:!1},mentor:{type:Object,default:null}},data(){return{name:"",date:""}},computed:{...(0,o.Se)("user",["user"]),...(0,o.Se)("courses",["getCourseById"]),currentRouteName(){const e=this.$router.history.current.path,t=e.split("/"),s=t[t.length-1];return s},currentCourse(){return this.getCourseById(this.currentRouteName)}},watch:{toggleModal(){this.$refs.newHomework.openModal()}},methods:{...(0,o.nv)("courses",["updateCourse","getCourses"]),clearInputs(){this.name=""},cancelModal(){this.$refs.newHomework.closeModal(),this.clearInputs()},confirmAdding({id:e,course:t}){const s=JSON.parse(JSON.stringify(t));let a={id:`${this.name}  (${this.user.fullName})`,name:`${this.name} (${this.user.fullName})`,date:this.date,rate:0,link:""};s.homework_results.forEach((function(e){e.homework.push(a)})),console.log(s),this.updateCourse({id:e,course:s}).then((async()=>{await this.getCourses()})).then((()=>{this.$refs.newHomework.closeModal()})).finally((()=>this.clearInputs()))}}},se=te,ae=(0,f.Z)(se,Y,ee,!1,null,null,null),re=ae.exports,oe=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"newMaterial",attrs:{header:"Add new material"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{staticClass:"flex justify-center flex-col mt-7 gap-10"},[t("div",{staticClass:"mx-1"},[t("BaseInput",{attrs:{label:"Material Name",rules:"required"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("BaseInput",{attrs:{type:"Link",label:"Material Link",rules:"required"},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),t("div",{staticClass:"mx-1 flex justify-around"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancelModal}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:!(e.name.length&&e.link.length)},on:{click:function(t){return e.confirmAdding({id:e.currentRouteName,course:e.currentCourse})}}},[e._v(" Add ")])],1)])]},proxy:!0}])})},ie=[],le={components:{BaseButton:i.Z,BaseModal:y.Z,BaseInput:R.Z},props:{toggleModal:{type:Boolean,default:!1},mentor:{type:Object,default:null}},data(){return{name:"",link:""}},computed:{...(0,o.Se)("user",["user"]),...(0,o.Se)("courses",["getCourseById"]),currentRouteName(){const e=this.$router.history.current.path,t=e.split("/"),s=t[t.length-1];return s},currentCourse(){return this.getCourseById(this.currentRouteName)}},watch:{toggleModal(){this.$refs.newMaterial.openModal()}},methods:{...(0,o.nv)("courses",["updateCourse","getCourses"]),clearInputs(){this.name="",this.link=""},cancelModal(){this.$refs.newMaterial.closeModal(),this.clearInputs()},confirmAdding({id:e,course:t}){const s=JSON.parse(JSON.stringify(t));s.materials.push({id:`${this.name}  (${this.user.fullName})`,name:`${this.name} (${this.user.fullName})`,link:this.link}),this.updateCourse({id:e,course:s}).then((async()=>{await this.getCourses()})).then((()=>{this.$refs.newMaterial.closeModal()})).finally((()=>this.clearInputs()))}}},ne=le,de=(0,f.Z)(ne,oe,ie,!1,null,null,null),ue=de.exports,ce=s(4682),he=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"homeworkResultsUpdateModal",attrs:{header:"Update homework results"},scopedSlots:e._u([{key:"body",fn:function(){return[e.currentStudent?t("h2",[e._v(" For "+e._s(e.currentStudent.students_name)+" ")]):e._e(),t("div",{staticClass:"flex justify-center flex-col mt-7 gap-10"},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:s}){return[t("div",{staticClass:"text-left"},[e.getCourseById(e.id).homework_quantity>0?t("div",[t("label",{attrs:{for:"hw1"}},[e._v("HW1")]),t("BaseInput",{attrs:{id:"hw1",type:"number"},model:{value:e.newhw1,callback:function(t){e.newhw1=t},expression:"newhw1"}}),t("label",{attrs:{for:"hw1repo"}},[e._v("Репо1")]),t("BaseInput",{attrs:{id:"hw1repo"},on:{dblclick:function(t){return e.openPage(e.newhw1repo)}},model:{value:e.newhw1repo,callback:function(t){e.newhw1repo=t},expression:"newhw1repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>1?t("div",[t("label",{attrs:{for:"hw2"}},[e._v("HW2")]),t("BaseInput",{attrs:{id:"hw2",type:"number"},model:{value:e.newhw2,callback:function(t){e.newhw2=t},expression:"newhw2"}}),t("label",{attrs:{for:"hw2repo"}},[e._v("Репо2")]),t("BaseInput",{attrs:{id:"hw2repo"},on:{dblclick:function(t){return e.openPage(e.newhw2repo)}},model:{value:e.newhw2repo,callback:function(t){e.newhw2repo=t},expression:"newhw2repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>2?t("div",[t("label",{attrs:{for:"hw3"}},[e._v("HW3")]),t("BaseInput",{attrs:{id:"hw3",type:"number"},model:{value:e.newhw3,callback:function(t){e.newhw3=t},expression:"newhw3"}}),t("label",{attrs:{for:"hw3repo"}},[e._v("Репо3")]),t("BaseInput",{attrs:{id:"hw3repo"},on:{dblclick:function(t){return e.openPage(e.newhw3repo)}},model:{value:e.newhw3repo,callback:function(t){e.newhw3repo=t},expression:"newhw3repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>3?t("div",[t("label",{attrs:{for:"hw4"}},[e._v("HW4")]),t("BaseInput",{attrs:{id:"hw4",type:"number"},model:{value:e.newhw4,callback:function(t){e.newhw4=t},expression:"newhw4"}}),t("label",{attrs:{for:"hw4repo"}},[e._v("Репо4")]),t("BaseInput",{attrs:{id:"hw4repo"},on:{dblclick:function(t){return e.openPage(e.newhw4repo)}},model:{value:e.newhw4repo,callback:function(t){e.newhw4repo=t},expression:"newhw4repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>4?t("div",[t("label",{attrs:{for:"hw5"}},[e._v("HW5")]),t("BaseInput",{attrs:{id:"hw5",type:"number"},model:{value:e.newhw5,callback:function(t){e.newhw5=t},expression:"newhw5"}}),t("label",{attrs:{for:"hw5repo"}},[e._v("Репо5")]),t("BaseInput",{attrs:{id:"hw5repo"},on:{dblclick:function(t){return e.openPage(e.newhw5repo)}},model:{value:e.newhw5repo,callback:function(t){e.newhw5repo=t},expression:"newhw5repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>5?t("div",[t("label",{attrs:{for:"hw6"}},[e._v("HW6")]),t("BaseInput",{attrs:{id:"hw6",type:"number"},model:{value:e.newhw6,callback:function(t){e.newhw6=t},expression:"newhw6"}}),t("label",{attrs:{for:"hw6repo"}},[e._v("Репо6")]),t("BaseInput",{attrs:{id:"hw6repo"},on:{dblclick:function(t){return e.openPage(e.newhw6repo)}},model:{value:e.newhw6repo,callback:function(t){e.newhw6repo=t},expression:"newhw6repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>6?t("div",[t("label",{attrs:{for:"hw7"}},[e._v("HW7")]),t("BaseInput",{attrs:{id:"hw7",type:"number"},model:{value:e.newhw7,callback:function(t){e.newhw7=t},expression:"newhw7"}}),t("label",{attrs:{for:"hw7repo"}},[e._v("Репо7")]),t("BaseInput",{attrs:{id:"hw7repo"},on:{dblclick:function(t){return e.openPage(e.newhw7repo)}},model:{value:e.newhw7repo,callback:function(t){e.newhw7repo=t},expression:"newhw7repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>7?t("div",[t("label",{attrs:{for:"hw8"}},[e._v("HW8")]),t("BaseInput",{attrs:{id:"hw8",type:"number"},model:{value:e.newhw8,callback:function(t){e.newhw8=t},expression:"newhw8"}}),t("label",{attrs:{for:"hw8repo"}},[e._v("Репо8")]),t("BaseInput",{attrs:{id:"hw8repo"},on:{dblclick:function(t){return e.openPage(e.newhw8repo)}},model:{value:e.newhw8repo,callback:function(t){e.newhw8repo=t},expression:"newhw8repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>8?t("div",[t("label",{attrs:{for:"hw9"}},[e._v("HW9")]),t("BaseInput",{attrs:{id:"hw9",type:"number"},model:{value:e.newhw9,callback:function(t){e.newhw9=t},expression:"newhw9"}}),t("label",{attrs:{for:"hw9repo"}},[e._v("Репо9")]),t("BaseInput",{attrs:{id:"hw9repo"},on:{dblclick:function(t){return e.openPage(e.newhw9repo)}},model:{value:e.newhw9repo,callback:function(t){e.newhw9repo=t},expression:"newhw9repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>9?t("div",[t("label",{attrs:{for:"hw10"}},[e._v("HW10")]),t("BaseInput",{attrs:{id:"hw10",type:"number"},model:{value:e.newhw10,callback:function(t){e.newhw10=t},expression:"newhw10"}}),t("label",{attrs:{for:"hw10repo"}},[e._v("Репо10")]),t("BaseInput",{attrs:{id:"hw10repo"},on:{dblclick:function(t){return e.openPage(e.newhw10repo)}},model:{value:e.newhw10repo,callback:function(t){e.newhw10repo=t},expression:"newhw10repo"}})],1):e._e(),e.getCourseById(e.id).homework_quantity>10?t("div",[t("label",{attrs:{for:"hw11"}},[e._v("HW11")]),t("BaseInput",{attrs:{id:"hw11",type:"number"},model:{value:e.newhw11,callback:function(t){e.newhw11=t},expression:"newhw11"}}),t("label",{attrs:{for:"hw11repo"}},[e._v("Репо11")]),t("BaseInput",{attrs:{id:"hw11repo"},on:{dblclick:function(t){return e.openPage(e.newhw11repo)}},model:{value:e.newhw11repo,callback:function(t){e.newhw11repo=t},expression:"newhw11repo"}})],1):e._e()]),t("div",{staticClass:"mx-1 flex justify-around"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:e.cancel}},[e._v(" Cancel ")]),t("BaseButton",{attrs:{disabled:s},on:{click:e.submit}},[e._v(" Update ")])],1)]}}])})],1)]},proxy:!0}])})},we=[],pe={components:{BaseModal:y.Z,BaseButton:i.Z,BaseInput:R.Z,ValidationObserver:h._j},props:{toggleModal:{type:Boolean,default:!1},id:{type:Number,default:null},studentId:{type:String,default:null}},data(){return{currentStudent:{type:Object},currentItem:{type:Object},newhw1:0,newhw1repo:"",newhw2:0,newhw2repo:"",newhw3:0,newhw3repo:"",newhw4:0,newhw4repo:" ",newhw5:0,newhw5repo:" ",newhw6:0,newhw6repo:" ",newhw7:0,newhw7repo:" ",newhw8:0,newhw8repo:" ",newhw9:0,newhw9repo:" ",newhw10:0,newhw10repo:" ",newhw11:0,newhw11repo:" ",newtotal:0}},computed:{...(0,o.Se)("courses",["getCourseById","courses"])},watch:{toggleModal(){this.$refs.homeworkResultsUpdateModal.openModal()},studentId(){this.getCourses().then((()=>{this.updateHW()}))},id(){this.getCourses().then((()=>{this.updateHW()}))}},async mounted(){this.getCourses().then((()=>{this.updateHW()}))},methods:{...(0,o.nv)("courses",["addNewComment","getCourses","updateCourse"]),async submit(){let e=this.getCourseById(this.id),t=JSON.parse(JSON.stringify(e.homework_results.find((e=>e.id===this.studentId))));t={...t,hw1:+this.newhw1,hw1repo:this.newhw1repo,hw2:+this.newhw2,hw2repo:this.newhw2repo,hw3:+this.newhw3,hw3repo:this.newhw3repo,hw4:+this.newhw4,hw4repo:this.newhw4repo,hw5:this.newhw5,hw5repo:this.newhw5repo,hw6:+this.newhw6,hw6repo:this.newhw6repo,hw7:+this.newhw7,hw7repo:this.newhw7repo,hw8:+this.newhw8,hw8repo:this.newhw8repo,hw9:+this.newhw9,hw9repo:this.newhw9repo,hw10:+this.newhw10,hw10repo:this.newhw10repo,hw11:+this.newhw11,hw11repo:this.newhw11repo,total:+this.newhw1+ +this.newhw2+ +this.newhw3+ +this.newhw4+ +this.newhw5+ +this.newhw6+ +this.newhw7+ +this.newhw8+ +this.newhw9+ +this.newhw10+ +this.newhw11};let s=[...e.homework_results.filter((e=>e.id!==this.studentId)),t];e.homework_results=s,await this.updateCourse({id:e.id,course:e}),await this.getCourses(),this.$refs.homeworkResultsUpdateModal.closeModal()},cancel(){this.$refs.homeworkResultsUpdateModal.closeModal()},openPage(e){window.open(e,"_blank")},updateHW(){this.currentItem=this.getCourseById(this.id),this.currentItem.homework_results&&(this.currentStudent=this.currentItem.homework_results.find((e=>e.id===this.studentId))),this.currentStudent&&(this.newhw1=+this.currentStudent.hw1,this.newhw1repo=this.currentStudent.hw1repo,this.newhw2=+this.currentStudent.hw2,this.newhw2repo=this.currentStudent.hw2repo,this.newhw3=+this.currentStudent.hw3,this.newhw3repo=this.currentStudent.hw3repo,this.newhw4=+this.currentStudent.hw4,this.newhw4repo=this.currentStudent.hw4repo,this.newhw5=+this.currentStudent.hw5,this.newhw5repo=this.currentStudent.hw5repo,this.newhw6=+this.currentStudent.hw6,this.newhw6repo=this.currentStudent.hw6repo,this.newhw7=+this.currentStudent.hw7,this.newhw7repo=this.currentStudent.hw7repo,this.newhw8=+this.currentStudent.hw8,this.newhw8repo=this.currentStudent.hw8repo,this.newhw9=+this.currentStudent.hw9,this.newhw9repo=this.currentStudent.hw9repo,this.newhw10=+this.currentStudent.hw10,this.newhw10repo=this.currentStudent.hw10repo,this.newhw11=+this.currentStudent.hw11,this.newhw11repo=this.currentStudent.hw11repo,this.newtotal=+this.currentStudent.hw1+this.currentStudent.hw2+ +this.currentStudent.hw3+ +this.currentStudent.hw4+ +this.currentStudent.hw5+ +this.currentStudent.hw6+ +this.currentStudent.hw7+ +this.currentStudent.hw8+ +this.currentStudent.hw9+this.currentStudent.hw10+ +this.currentStudent.hw11)}}},me=pe,_e=(0,f.Z)(me,he,we,!1,null,null,null),fe=_e.exports,ve=function(){var e=this,t=e._self._c;return t("div",[e._m(0),t("div",[t("BaseTableEditable",{staticStyle:{height:"400px"},attrs:{"column-defs":e.columnDefs,"row-data":e.rowData},on:{cellValueChanged:function(t){return e.onCellEdit(t)}}})],1)])},be=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex justify-between"},[t("div",{staticClass:"text-xl text-gray-700 mb-5"},[e._v(" Group ")])])}],Ce=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"overflow-x":"auto"}},[t("table",{directives:[{name:"click-outside-table",rawName:"v-click-outside-table"}],staticClass:"table",staticStyle:{width:"100%"}},[t("tr",e._l(e.columnDefs,(function(s){return t("th",{key:s.field,staticClass:"table_header",class:{"table_header--solid":s.solid}},[t("div",{staticClass:"table_header_cell",style:{width:s.width+"px"}},[e._v(" "+e._s(s.headerName)+" ")])])})),0),e._l(e.rowData,(function(s,a){return t("tr",{key:a,staticClass:"table_row"},e._l(e.columnDefs,(function(r,o){return t("td",{key:r.field,staticClass:"table_row_item"},[t("div",{staticClass:"table_cell",on:{click:function(t){return e.onCellClick(a,o,r.editable)}}},[e.isCellActive(a,o)?t("input",{ref:"cellInput",refInFor:!0,staticClass:"table_cell_input",attrs:{type:"text"},domProps:{value:s[r.field]},on:{focusout:function(t){return e.onFocusOut(t,a,r.field)},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterPress(t,a,r.field)}}}):t("div",{staticClass:"pointer-events-none p-2 text-ellipsis over",style:{width:r.width+"px"}},[e._v(" "+e._s(s[r.field])+" ")])])])})),0)}))],2)])},ge=[],ke={props:{columnDefs:{type:Array,default:null},rowData:{type:Array,default:null}},data(){return{activeCell:null}},computed:{},methods:{onCellClick(e,t,s){s&&(this.activeCell=`${e}${t}`,setTimeout((()=>{this.$refs.cellInput[0]?.focus()}),50))},isCellActive(e,t){return this.activeCell===`${e}${t}`},onClickOutside(){this.activeCell=null},onFocusOut(e,t,s){this.emitCellUpdate(e,t,s)},onEnterPress(e,t,s){this.emitCellUpdate(e,t,s),this.activeCell=null},emitCellUpdate(e,t,s){const a=e.target.value;this.$emit("cellValueChanged",{newValue:a,rowIndex:t,colDef:{field:s}})}}},ye=ke,Me=(0,f.Z)(ye,Ce,ge,!1,null,"49b6301e",null),xe=Me.exports,Be={components:{BaseTableEditable:xe},props:{course:{type:Object,default:null}},data(){return{columnDefs:null,rowData:null}},computed:{...(0,o.Se)("user",["user"]),group(){return this.course.group},isAdmin(){return this.user.role===p.qy},isMentor(){return this.user.role===p.b_},isStudent(){return this.user.role===p.gl}},watch:{course(){this.rowData=this.course.group}},beforeMount(){this.isStudent&&(this.columnDefs=[{field:"fullName",headerName:"Name",sortable:!0,editable:this.isAdmin,width:200},{field:"email",headerName:"Email",sortable:!0,editable:!1,minWidth:150,width:200}]),(this.isAdmin||this.isMentor)&&(this.columnDefs=[{field:"fullName",headerName:"Name",sortable:!0,editable:this.isAdmin,width:200},{field:"email",headerName:"Email",sortable:!0,editable:!1,width:200},{field:"phone",headerName:"Phone",sortable:!0,editable:this.isAdmin,width:200},{field:"city",headerName:"City",sortable:!0,editable:this.isAdmin,width:200},{field:"age",headerName:"Age",sortable:!0,editable:this.isAdmin,width:200},{field:"education",headerName:"Education",sortable:!0,editable:this.isAdmin,width:250},{field:"eng_level",headerName:"English level",sortable:!0,editable:this.isAdmin,width:250}]),this.rowData=this.course.group},methods:{async onCellEdit(e){const t=this.group.find(((t,s)=>s===e.rowIndex));t[e.colDef.field]=e.newValue,this.group.splice(e.rowIndex,1,t),this.rowData=this.group,await(0,c.eS)(this.course.id,{...this.course,group:this.group})}}},Ie=Be,De=(0,f.Z)(Ie,ve,be,!1,null,null,null),Ne=De.exports,Se=function(){var e=this,t=e._self._c;return t("div",[e._m(0),t("div",[t("BaseTableEditable",{staticStyle:{"min-height":"400px"},attrs:{"column-defs":e.columnDefs,"row-data":e.rowData},on:{cellValueChanged:function(t){return e.onCellEdit(t)}}})],1)])},Ae=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex justify-between"},[t("div",{staticClass:"text-xl text-gray-700 mb-5"},[e._v(" Results ")])])}],He={components:{BaseTableEditable:xe},props:{course:{type:Object,default:null}},data(){return{columnDefs:null,rowData:null}},computed:{...(0,o.Se)("user",["user"]),results(){return this.course.results},isAdmin(){return this.user.role===p.qy},isMentor(){return this.user.role===p.b_}},watch:{course(){this.rowData=this.course.results}},beforeMount(){this.columnDefs=[{field:"fullName",headerName:"Name",sortable:!0,editable:!1,width:150},{field:"multiple_choice",headerName:"Multiple choice",sortable:!0,editable:this.isAdmin,width:150},{field:"tech_task",headerName:"Tech Task",sortable:!0,editable:this.isAdmin,width:100},{field:"start_total",headerName:"Total",sortable:!0,editable:!1,width:100,solid:!0},{field:"eng_test",headerName:"English Test",sortable:!0,editable:this.isAdmin,width:100},{field:"middle_total",headerName:"Total",sortable:!0,editable:!1,width:100,solid:!0},{field:"interview_result",headerName:"Interview Result",sortable:!0,editable:this.isAdmin||this.isMentor,width:150},{field:"interviewer_comments",headerName:"Interviewer comments",sortable:!0,editable:this.isAdmin||this.isMentor,width:250},{field:"hr_interviewer_comments",headerName:"HR interviewer comments",sortable:!0,editable:this.isAdmin,width:250},{field:"average_homework_score",headerName:"Average homework score",sortable:!0,editable:!1,width:120},{field:"mentors_feedback",headerName:"Mentor's Feedback",sortable:!0,editable:this.isAdmin||this.isMentor,width:250},{field:"exit_tech_interview",headerName:"Exit Tech interview",sortable:!0,editable:this.isAdmin||this.isMentor,width:120},{field:"final_interviewer_comments",headerName:"Interviewer comments",sortable:!0,editable:this.isAdmin||this.isMentor,width:250},{field:"final_hr_interviewer_comments",headerName:"HR Interviewer comment",sortable:!0,editable:this.isAdmin,width:250},{field:"final_english_interviewer_comments",headerName:"English Interviewer comment",sortable:!0,editable:this.isAdmin,width:250}],this.rowData=this.course.results},methods:{async onCellEdit(e){const t=this.results.find(((t,s)=>s===e.rowIndex));t[e.colDef.field]=e.newValue,t.start_total=+t.multiple_choice+ +t.tech_task,t.middle_total=+t.start_total+ +t.eng_test,this.results.splice(e.rowIndex,1,t),this.rowData=this.results,await(0,c.eS)(this.course.id,{...this.course,results:this.results})}}},$e=He,Oe=(0,f.Z)($e,Se,Ae,!1,null,null,null),je=Oe.exports,Re=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex justify-between"}),t("div",[t("HomeworkTableEditable",{staticStyle:{"min-height":"400px"},attrs:{"column-defs":e.columnDefs,"row-data":e.rowData},on:{cellValueChanged:function(t){return e.onCellEdit(t)}}})],1)])},We=[],Ze=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"overflow-x":"auto"}},[t("table",{directives:[{name:"click-outside-table",rawName:"v-click-outside-table"}],staticClass:"table",staticStyle:{width:"100%"}},[t("tr",[e._m(0),e._l(e.rowData[0].homework,(function(s,a){return t("th",{key:a,staticClass:"table_header",attrs:{colspan:"2"}},[t("div",{staticClass:"table_header_cell"},[e._v(" "+e._s(s.name)+" ")])])})),e._m(1)],2),e._l(e.rowData,(function(s,a){return t("tr",{key:a,staticClass:"table_row"},[t("td",[t("div",{staticClass:"p-2 text-ellipsis over"},[e._v(" "+e._s(s.students_name)+" ")])]),e._l(s.homework,(function(s,r){return[t("td",{key:r.toString()+a.toString(),staticClass:"table_row_item"},[t("div",{staticClass:"table_cell",on:{click:function(t){return e.oneClick(a,r,!0,s.link)}}},[e.isCellActive(a,r)?t("input",{ref:"cellInput",refInFor:!0,staticClass:"table_cell_input",attrs:{type:"text"},domProps:{value:s.rate},on:{focusout:function(t){return e.onFocusOut(t,a,r,"rate")},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterPress(t,a,r,"rate")}}}):t("div",{staticClass:"p-2 text-ellipsis over"},[e._v(" "+e._s(s.rate)+" ")])])]),t("td",{key:r.toString()+a.toString()+"link"},[t("div",{staticClass:"table_cell",on:{click:function(t){return e.oneClick(a,r,!0,s.link)}}},[e.isCellActive(a,r)?t("input",{ref:"cellInput",refInFor:!0,staticClass:"table_cell_input",attrs:{type:"text"},domProps:{value:s.link},on:{focusout:function(t){return e.onFocusOut(t,a,r,"link")},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterPress(t,a,r,"link")}}}):e._e()])])]}))],2)}))],2)])},qe=[function(){var e=this,t=e._self._c;return t("th",{staticClass:"table_header"},[t("div",{staticClass:"table_header_cell"},[e._v(" Name ")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"table_header table_header--solid"},[t("div",{staticClass:"table_header_cell"},[e._v(" Total ")])])}],Pe={props:{columnDefs:{type:Array,default:null},rowData:{type:Array,default:null}},data(){return{activeCell:null,clicks:0,timer:null}},computed:{},methods:{onCellClick(e,t,s){s&&(this.activeCell=`${e}${t}`,setTimeout((()=>{this.$refs.cellInput[0]?.focus()}),50))},isCellActive(e,t){return this.activeCell===`${e}${t}`},onClickOutside(){this.activeCell=null},onFocusOut(e,t,s,a){this.emitCellUpdate(e,t,s,a)},onEnterPress(e,t,s,a){this.emitCellUpdate(e,t,s,a),this.activeCell=null},emitCellUpdate(e,t,s,a){const r=e.target.value,o=this.rowData[t].homework[s];o[a]=r,console.log(o),this.$emit("cellValueChanged",{data:o,rowIndex:t,homeworkIndex:s})},goToLink(e){e&&window.open(e,"_blank")},oneClick(e,t,s,a=null){this.clicks++,1===this.clicks?this.timer=setTimeout((()=>{this.onCellClick(e,t,s),this.clicks=0}),300):(clearTimeout(this.timer),this.goToLink(a),this.clicks=0)}}},Ee=Pe,Ue=(0,f.Z)(Ee,Ze,qe,!1,null,"6384b52d",null),Te=Ue.exports,Ge={components:{HomeworkTableEditable:Te},props:{course:{type:Object,default:null}},data(){return{columnDefs:null,rowData:null,originData:null}},computed:{...(0,o.Se)("user",["user"]),homework_results(){return this.course.homework_results},isAdmin(){return this.user.role===p.qy},isMentor(){return this.user.role===p.b_}},watch:{course(){this.rowData=this.course.homework_results}},beforeMount(){this.columnDefs=[{field:"sudentName",headerName:"Name",sortable:!0,editable:!1,width:150},{field:"name",headerName:"HW1 date",sortable:!0,editable:this.isAdmin,width:100},{field:"rate",headerName:"HW1 rate",sortable:!0,editable:this.isAdmin,width:100},{field:"link",headerName:"HW1 link",sortable:!0,editable:this.isAdmin,width:100}],this.rowData=this.course.homework_results},methods:{async onCellEdit(e){console.log(this.course);const t={...this.course};t.homework_results[e.rowIndex].homework[e.homeworkIndex]=e.data,console.log(t),await(0,c.eS)(this.course.id,t)}},homeworkName(){return this.course.homework_results.homework[0].name}},Ve=Ge,Fe=(0,f.Z)(Ve,Re,We,!1,null,null,null),Je=Fe.exports,Le=function(){var e=this,t=e._self._c;return t("BaseModal",{ref:"HomeworkDeleteModal",attrs:{header:"Confirm delete"},scopedSlots:e._u([{key:"body",fn:function(){return[e.courseItem?t("div",{staticClass:"max-w-md"},[t("div",[t("label",{staticClass:"block ml-1 text-start",attrs:{for:"homework"}},[e._v("Choice homework witch you want to delete:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.homeworkForDelete,expression:"homeworkForDelete"}],staticClass:"select",attrs:{id:"homework"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.homeworkForDelete=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" Select Homework ")]),e._l(e.courseItem.homework_results[0].homework,(function(s){return t("option",{key:s.id,domProps:{value:s.name}},[e._v(" "+e._s(s.name)+" ")])}))],2)])]):e._e(),t("div",{staticClass:"flex justify-evenly mt-5"},[t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{variant:"btn_red"},on:{click:function(t){return e.submit(e.homeworkForDelete)}}},[e._v(" Delete ")])],1),t("div",{staticClass:"mx-2"},[t("BaseButton",{on:{click:e.cancel}},[e._v(" Cancel ")])],1)])]},proxy:!0}])})},ze=[],Ke={name:"BaseDeleteModal",components:{BaseButton:i.Z,BaseModal:y.Z},props:{toggleModal:{type:Boolean,default:!1},courseItem:{type:Object,default:null}},data(){return{homeworkForDelete:null}},watch:{toggleModal(){this.$refs.HomeworkDeleteModal.openModal()}},methods:{submit(e){this.$emit("delete",e),this.$refs.HomeworkDeleteModal.closeModal()},cancel(){this.$refs.HomeworkDeleteModal.closeModal()}}},Qe=Ke,Xe=(0,f.Z)(Qe,Le,ze,!1,null,"59661315",null),Ye=Xe.exports;Object.keys(w).forEach((e=>{(0,h.l7)(e,w[e])}));var et={components:{BaseTable:l.Z,BaseButton:i.Z,NewApplicantModal:I,NewCommentModal:$,CourseDetailsUpdateModal:F,NewGroupMember:X,NewHomeWorkModal:re,HomeworkResaltsModal:fe,NewMaterialModal:ue,BasePlus:C,BaseEditIcon:d.Z,BaseDeleteIcon:u.Z,BaseDeleteModal:ce.Z,GroupWidget:Ne,ResultWidget:je,HomeworkWidget:Je,HomeworkDeleteModal:Ye},data(){return{comments:"",payload:{},homeworkPayload:{},targetRow:{},studentId:null,isAddCommentModalOpen:!1,isModalOpened:!1,isUpdateModalOpened:!1,isNewGroupMemberModal:!1,isNewResultModal:!1,isNewHomeworkModal:!1,isDeleteModalOpen:!1,isEditHomeworkResultModalOpen:!1,isNewMaterialModal:!1,isHomeworkDeleteModalOpen:!1,headersUser:[{name:"Course Name"},{date:"Date"},{status:"Status"}],headersGroup:[{fullName:"Full Name"},{email:"Email"}],headerMainInfo:[{name:"Course Name"},{date:"Date of starting"},{date_project_start:"Date of starting project"},{date_project_demo:"Date of demo"},{date_final_interview:"Date of final interview"}],headerApplicants:[{fullName:"Full Name"},{initialScore:"Initial Score"}],headerHomework:[{name:"Homework Name"},{date:"Date"}],headerHomeworkResults:[{students_name:"Students Name"},{hw1:"HW 1"},{hw2:"HW 2"},{hw3:"HW 3"},{hw4:"HW 4"},{hw5:"HW 5"},{hw6:"HW 6"},{hw7:"HW 7"},{hw8:"HW 8"},{hw9:"HW 9"},{hw10:"HW 10"},{hw11:"HW 11"},{total:"Total"}],headerResults:[{fullName:"Name"},{score:"Results"}],headerMaterials:[{name:"Material name"},{link:"Link"}],headerComments:[{message:"Message"},{createdAt:"Date"},{author:"Author"}]}},computed:{...(0,o.Se)("courses",["loadingStatus","getCourseById","courseIndex","nextCourseId","previousCourseId","lastCourseId","firstCourseId"]),...(0,o.Se)("user",["user"]),isUser(){return!!this.user&&this.user.role===p.gl},isMentor(){return!!this.user&&this.user.role===p.b_},isAdmin(){return!!this.user&&this.user.role===p.qy},courseItem(){return this.getCourseById(this.$route.params.id)},isLatsCourse(){return this.$route.params.id===this.lastCourseId},isFirstCourse(){return this.$route.params.id===this.firstCourseId}},mounted(){this.getCourses()},methods:{...(0,o.nv)("courses",["getCourses","addNewComment","patchCourses"]),openModal(){this.isModalOpened=!this.isModalOpened},openDeleteModal(){this.isDeleteModalOpen=!this.isDeleteModalOpen},submitDelete(){this.patchCourses(this.payload),this.patchCourses(this.homeworkPayload)},submitDeleteHomework(e){const t=JSON.parse(JSON.stringify(this.courseItem));t.homework_results.forEach((function(t){let s=t.homework.filter((t=>t.name!==e));t.homework=s})),(0,c.eS)(this.courseItem.id,t).then((async()=>{await this.getCourses()}))},deleteApplicant(e){this.openDeleteModal();const t=this.getCourseById(this.$route.params.id),{applicants:s}=t,a=s.filter((t=>t.id!==e));this.targetRow=s.filter((t=>t.id===e))[0].fullName,this.payload={id:this.$route.params.id,field:"applicants",value:a}},deleteHomework(e){this.openDeleteModal();const t=this.getCourseById(this.$route.params.id),{homework:s}=t,a=s.filter((t=>t.id!==e));this.targetRow=s.filter((t=>t.id===e))[0].name,this.payload={id:this.$route.params.id,field:"homework",value:a}},openEditHomeworkResultModal(e){this.studentId=e,this.isEditHomeworkResultModalOpen=!this.isEditHomeworkResultModalOpen},deleteComment(e){this.openDeleteModal();const t=this.getCourseById(this.$route.params.id),{comments:s}=t,a=s.filter((t=>t.id!==e));this.targetRow=s.filter((t=>t.id===e))[0].message,this.payload={id:this.$route.params.id,field:"comments",value:a}},deleteGroupMember(e){this.openDeleteModal();const t=this.getCourseById(this.$route.params.id),{group:s}=t,a=s.filter((t=>t.id!==e)),{homework_results:r}=t,o=r.filter((t=>t.id!==e));this.targetRow=s.filter((t=>t.id===e))[0].fullName,this.homeworkPayload={id:this.$route.params.id,field:"homework_results",value:o},this.payload={id:this.$route.params.id,field:"group",value:a}},deleteResultRow(e){this.openDeleteModal();const t=this.getCourseById(this.$route.params.id),{results:s}=t,a=s.filter((t=>t.id!==e));this.targetRow=s.filter((t=>t.id===e))[0].fullName,this.payload={id:this.$route.params.id,field:"results",value:a}},deleteMaterialRow(e){this.openDeleteModal();const t=this.getCourseById(this.$route.params.id),{materials:s}=t,a=s.filter((t=>t.id!==e));this.targetRow=s.filter((t=>t.id===e))[0].name,this.payload={id:this.$route.params.id,field:"materials",value:a}},previousPage(){this.$router.push({name:n.eA,params:{id:this.previousCourseId(this.$route.params.id)}}),this.comments=""},nextPage(){this.$router.push({name:n.eA,params:{id:this.nextCourseId(this.$route.params.id)}}),this.comments=""},getBackCourseDetailsView(){this.$router.push({name:n.Kl})},submit(){let e=JSON.parse(JSON.stringify(this.getCourseById(this.$route.params.id)));e.comments.push({id:Date.now(),message:this.comments,createdAt:(new Date).toLocaleString(),author:this.user.fullName,author_id:this.user.id,author_email:this.user.email});let t={currentItemUpdate:e,id:this.$route.params.id};this.addNewComment(t),this.comments=""},openAddCommentModal(){this.isAddCommentModalOpen=!this.isAddCommentModalOpen},toggleUpdateModal(){this.isUpdateModalOpened=!this.isUpdateModalOpened},toggleNewGroupMemberModal(){this.isNewGroupMemberModal=!this.isNewGroupMemberModal},toggleNewResultModal(){this.isNewResultModal=!this.isNewResultModal},toggleNewMaterialModal(){this.isNewMaterialModal=!this.isNewMaterialModal},toggleNewHomeworkModal(){this.isNewHomeworkModal=!this.isNewHomeworkModal},toggleHomeworkDeleteModal(){this.isHomeworkDeleteModalOpen=!this.isHomeworkDeleteModalOpen},cutHeaderHomeworkResults(){return this.headerHomeworkResults.slice(0,+this.courseItem.homework_quantity+1).concat(this.headerHomeworkResults.slice(-1))}}},tt=et,st=(0,f.Z)(tt,a,r,!1,null,"20247e3d",null),at=st.exports}}]);
//# sourceMappingURL=course-details.9228ad5c.js.map