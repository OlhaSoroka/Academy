"use strict";(self["webpackChunkinventorsoft_vue_2022"]=self["webpackChunkinventorsoft_vue_2022"]||[]).push([[662],{8452:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"users__container"},[t("div",{staticClass:"users__topbar_container"},[e._m(0),e.isMentor||e.isAdmin?t("div",[t("BaseButton",{attrs:{loading:e.studentsLoadingStatus},on:{click:function(t){return t.preventDefault(),e.openCreateModal.apply(null,arguments)}}},[e._v(" Add new student ")])],1):e._e()]),e.isStudent?t("div",[e.students?t("div",[t("div",{staticClass:"users-table-container"},[t("BaseTable",{attrs:{"table-data":{headingData:e.headersStudent,bodyData:e.students},"edit-btns":!1,"is-data-loading":e.studentsLoadingStatus,"delete-btns":!1}})],1)]):e._e()]):e.isMentor?t("div",{staticClass:"MentorMembersView"},[e.students?t("div",[t("div",{staticClass:"users-table-container"},[t("BaseTable",{attrs:{"table-data":{headingData:e.headersStudentAdminView,bodyData:e.students},"edit-btns":!0,"is-data-loading":e.studentsLoadingStatus,"delete-btns":!0},on:{edit:e.openEditModal,delete:e.openDeleteModal}})],1)]):e._e(),t("UserEditModal",{attrs:{"is-opened-user-edit-modal":e.isEditModalOpen,"target-user-value":e.targetStudent,"user-inputs-value":e.adminStudentEditInputs}}),t("UserCreateModal",{attrs:{"is-opened-user-create-modal":e.isCreateModalOpen,"user-inputs-value":e.adminStudentCreateInputs}}),t("BaseDeleteModal",{attrs:{"toggle-modal":e.isDeleteModalOpen,"target-value":e.targetStudent.fullName},on:{delete:e.submitDelete}})],1):e.isAdmin?t("div",[e.students?t("div",[t("div",{staticClass:"users-table-container"},[t("BaseTable",{attrs:{"table-data":{headingData:e.headersStudentAdminView,bodyData:e.students},"edit-btns":!1,"is-data-loading":e.studentsLoadingStatus,"delete-btns":!0},on:{edit:e.openEditModal,delete:e.openDeleteModal}})],1)]):e._e(),t("UserEditModal",{attrs:{"is-opened-user-edit-modal":e.isEditModalOpen,"target-user-value":e.targetStudent,"user-inputs-value":e.adminStudentEditInputs}}),t("UserCreateModal",{attrs:{"is-opened-user-create-modal":e.isCreateModalOpen,"user-inputs-value":e.adminStudentCreateInputs}}),t("BaseDeleteModal",{attrs:{"toggle-modal":e.isDeleteModalOpen,"target-value":e.targetStudent.fullName},on:{delete:e.submitDelete}})],1):e._e()])},r=[function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"users__header"},[e._v(" Students Dashboard ")]),t("h3",{staticClass:"users__subheader"},[e._v(" Students list of InventorSoft Academy ")])])}],l=s(3822),d=s(164),n=s(3296),o=s(4146),i=function(){var e=this,t=e._self._c;return t("div",[t("BaseModal",{ref:"userCreateModal",attrs:{header:"Add new student"},on:{isClosed:function(t){return e.clearInputs()}},scopedSlots:e._u([{key:"body",fn:function(){return[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:s}){return[t("div",[e._l(e.userInputsValue,(function(s){return t("div",{key:s.label,staticClass:"w-80"},[t("BaseInput",{attrs:{type:s.type,label:s.label,placeholder:s.placeholder,vid:s.vid,rules:e.requiredField(s.label)},model:{value:e.createModel[s.model],callback:function(t){e.$set(e.createModel,s.model,t)},expression:"createModel[input.model]"}})],1)})),t("div",[t("label",{staticClass:"block ml-1 text-start",attrs:{for:"courses"}},[e._v("Select Course")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.createModel.course,expression:"createModel.course"}],staticClass:"select__course",attrs:{id:"courses"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.createModel,"course",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" Select Course ")]),e._l(e.courses,(function(s){return t("option",{key:s.id,domProps:{value:s.name}},[e._v(" "+e._s(s.name)+" ")])}))],2)]),t("div",{staticClass:"flex justify-evenly mt-5"},[t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{disabled:!1,variant:"btn_red"},on:{click:e.canselUserCreateButton}},[e._v(" Cancel ")])],1),t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{disabled:s||0!=!e.createModel.course},on:{click:e.submitUserCreateButton}},[e._v(" Create ")])],1)])],2)]}}])})]},proxy:!0}])})],1)},u=[],c=s(7847),p=s(9046),m=s(5708),v={name:"UserCreateModal",components:{BaseModal:c.Z,BaseInput:p.Z,BaseButton:o.Z,ValidationObserver:m._j},props:{isOpenedUserCreateModal:{required:!0,type:Boolean},userInputsValue:{required:!0,type:Array}},data(){return{createModel:{fullName:"",password:"",confirmpassword:"",email:"",course:"",role:"user",avatarUrl:"https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/default-avatar.png"}}},computed:{...(0,l.Se)("courses",["courses"])},watch:{isOpenedUserCreateModal(){this.$refs.userCreateModal.openModal()}},mounted(){this.getCourses()},methods:{...(0,l.nv)("students",["createNewStudent"]),...(0,l.nv)("courses",["getCourses"]),clearInputs(){this.createModel={fullName:"",phone:"",city:"",password:"",confirmpassword:"",email:"",course:"",role:"user",avatarUrl:"https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/default-avatar.png"}},submitUserCreateButton(){this.createNewStudent(this.createModel),this.$refs.userCreateModal.closeModal()},canselUserCreateButton(){this.$refs.userCreateModal.closeModal(),this.clearInputs()},requiredField(e){return"Full Name"===e||"Initial Score"===e?"required":"Confirm password"===e||"Password"===e?"confirmed:password":void 0}}},f=v,h=s(1001),b=(0,h.Z)(f,i,u,!1,null,"e1a47eea",null),M=b.exports,C=function(){var e=this,t=e._self._c;return t("div",[t("BaseModal",{ref:"userEditModal",attrs:{header:"Update student"},scopedSlots:e._u([{key:"body",fn:function(){return[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function({invalid:s}){return[t("div",[e._l(e.userInputsValue,(function(s){return t("div",{key:s.label,staticClass:"w-72"},[t("BaseInput",{attrs:{type:s.type,label:s.label,placeholder:s.placeholder,rules:e.requiredField(s.label),disabled:"email"===s.model},model:{value:e.targetUser[s.model],callback:function(t){e.$set(e.targetUser,s.model,t)},expression:"targetUser[input.model]"}})],1)})),t("div",[t("label",{staticClass:"block ml-1 text-start",attrs:{for:"courses"}},[e._v("Select Course")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.targetUser.course,expression:"targetUser.course"}],staticClass:"select__course",attrs:{id:"courses",disabled:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.targetUser,"course",t.target.multiple?s:s[0])}}},[e.courses.find((t=>t.name==e.targetUser.course))?e._e():t("option",{attrs:{selected:""},domProps:{value:e.targetUser.course}},[e._v(" Select Course ")]),e._l(e.courses,(function(s){return t("option",{key:s.id,domProps:{value:s.name}},[e._v(" "+e._s(s.name)+" ")])}))],2)]),t("div",{staticClass:"flex justify-evenly mt-5"},[t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{disabled:!1,variant:"btn_red"},on:{click:e.cancelUserEditButton}},[e._v(" Cancel ")])],1),t("div",{staticClass:"mx-2"},[t("BaseButton",{attrs:{disabled:s||0!=!e.targetUser.course},on:{click:e.submitUserEditButton}},[e._v(" Update ")])],1)])],2)]}}])})]},proxy:!0}])})],1)},_=[],g={name:"UserEditModal",components:{BaseModal:c.Z,BaseInput:p.Z,BaseButton:o.Z,ValidationObserver:m._j},props:{isOpenedUserEditModal:{required:!0,type:Boolean},targetUserValue:{required:!0,type:[Object,String]},userInputsValue:{required:!0,type:Array}},data(){return{targetUser:{}}},computed:{...(0,l.Se)("courses",["courses"])},watch:{isOpenedUserEditModal(){this.$refs.userEditModal.openModal()},targetUserValue(){this.targetUser=this.targetUserValue}},mounted(){this.getCourses()},methods:{...(0,l.nv)("students",["updateStudent"]),...(0,l.nv)("courses",["getCourses"]),submitUserEditButton(){this.updateStudent(this.targetUser),this.$refs.userEditModal.closeModal()},cancelUserEditButton(){this.$refs.userEditModal.closeModal()},requiredField(e){if("Name"===e||"Course"===e)return"required"}}},S=g,y=(0,h.Z)(S,C,_,!1,null,"d4e304a0",null),B=y.exports,U=s(4682),w={name:"UsersView",components:{BaseTable:n.Z,BaseButton:o.Z,UserCreateModal:M,UserEditModal:B,BaseDeleteModal:U.Z},data(){return{isCreateModalOpen:!1,isEditModalOpen:!1,isDeleteModalOpen:!1,targetStudent:{id:null,fullName:"",email:"",course:""},adminStudentEditInputs:[{label:"Full Name",model:"fullName",type:"text",placeholder:"Enter name"},{label:"Email",model:"email",type:"email",placeholder:"Enter email"}],adminStudentCreateInputs:[{label:"Full Name",model:"fullName",type:"text",placeholder:"Enter name"},{label:"Email",model:"email",type:"email",placeholder:"Enter email"},{label:"Password",model:"password",type:"password",placeholder:"Enter password",vid:"password"},{label:"Confirm password",model:"confirmpassword",type:"password",vid:"confirmpassword",placeholder:"Confirm password"}],headersStudent:[{fullName:"Full Name"},{email:"Email"},{course:"Course"}],headersStudentAdminView:[{fullName:"Full Name"},{email:"Email"},{course:"Course"}]}},computed:{...(0,l.Se)("students",["studentsLoadingStatus","students"]),...(0,l.Se)("user",["user"]),isStudent(){return!!this.user&&this.user.role===d.gl},isMentor(){return!!this.user&&this.user.role===d.b_},isAdmin(){return!!this.user&&this.user.role===d.qy}},async mounted(){await this.fetchStudents()},methods:{...(0,l.nv)("students",["fetchStudents","deleteStudent"]),openEditModal(e){this.targetStudent=JSON.parse(JSON.stringify(this.students.find((t=>t.id===e)))),this.isEditModalOpen=!this.isEditModalOpen},openCreateModal(){this.isCreateModalOpen=!this.isCreateModalOpen},openDeleteModal(e){this.targetStudent=this.students.find((t=>t.id===e)),this.isDeleteModalOpen=!this.isDeleteModalOpen},submitDelete(){this.deleteStudent(this.targetStudent.id)}}},E=w,O=(0,h.Z)(E,a,r,!1,null,"187d9d3d",null),D=O.exports}}]);
//# sourceMappingURL=students.8de8ca61.js.map